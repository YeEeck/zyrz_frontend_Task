(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0a1fdc2"],{"6d8b":function(e,t,a){},"89f6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status_container"},[a("div",{staticClass:"title_user"},[a("h1",{staticStyle:{display:"inline"}},[e._v("奖惩和缺勤情况")]),a("div",{staticClass:"status_button_out"},[a("a-button",{staticClass:"add_button",attrs:{type:"primary"},on:{click:e.showDrawerF}},[a("a-icon",{attrs:{type:"search"}})],1),a("a-button",{staticClass:"add_button",attrs:{type:"primary"},on:{click:e.showDrawer}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" New Record ")],1)],1)]),a("a-drawer",{staticClass:"user_drawer",attrs:{title:"添加新记录",width:360,visible:e.visible,"body-style":{paddingBottom:"80px"}},on:{close:e.onClose}},[a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"学生姓名"},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"专业"},model:{value:e.newType,callback:function(t){e.newType=t},expression:"newType"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"班级"},model:{value:e.newClass,callback:function(t){e.newClass=t},expression:"newClass"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"奖惩类型"},model:{value:e.newPType,callback:function(t){e.newPType=t},expression:"newPType"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"项目"},model:{value:e.newProject,callback:function(t){e.newProject=t},expression:"newProject"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"记录时间"},model:{value:e.newTime,callback:function(t){e.newTime=t},expression:"newTime"}}),a("a-button",{attrs:{type:"primary"},on:{click:e.addData}},[e._v("添加")])],1),a("a-drawer",{staticClass:"user_drawer",attrs:{title:"编辑记录",width:360,visible:e.visibleE,"body-style":{paddingBottom:"80px"}},on:{close:e.onCloseE}},[a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"学生姓名"},model:{value:e.eName,callback:function(t){e.eName=t},expression:"eName"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"专业"},model:{value:e.eType,callback:function(t){e.eType=t},expression:"eType"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"班级"},model:{value:e.eClass,callback:function(t){e.eClass=t},expression:"eClass"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"奖惩类型"},model:{value:e.ePType,callback:function(t){e.ePType=t},expression:"ePType"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"项目"},model:{value:e.eProject,callback:function(t){e.eProject=t},expression:"eProject"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"记录时间"},model:{value:e.eTime,callback:function(t){e.eTime=t},expression:"eTime"}}),a("a-button",{attrs:{type:"primary"},on:{click:e.editData}},[e._v("提交")])],1),a("a-drawer",{staticClass:"user_drawer",attrs:{title:"筛选记录",width:360,visible:e.visibleF,"body-style":{paddingBottom:"80px"}},on:{close:e.onCloseF}},[a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"学生姓名"},model:{value:e.fName,callback:function(t){e.fName=t},expression:"fName"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"专业"},model:{value:e.fType,callback:function(t){e.fType=t},expression:"fType"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"班级"},model:{value:e.fClass,callback:function(t){e.fClass=t},expression:"fClass"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"奖惩类型"},model:{value:e.fPType,callback:function(t){e.fPType=t},expression:"fPType"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"项目"},model:{value:e.fProject,callback:function(t){e.fProject=t},expression:"fProject"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"记录时间"},model:{value:e.fTime,callback:function(t){e.fTime=t},expression:"fTime"}}),a("a-button",{attrs:{type:"primary"},on:{click:e.filterData}},[e._v("筛选")])],1),a("a-tabs",{staticClass:"status_tab",attrs:{"default-active-key":"1",size:"large"}},[a("a-tab-pane",{key:"1",attrs:{tab:"奖惩情况"}},[a("div",{staticClass:"status_table_out"},[a("a-table",{staticClass:"table1",attrs:{columns:e.columns_status,"data-source":e.data,pagination:e.pagination,loading:e.loading,bordered:""},scopedSlots:e._u([{key:"tags",fn:function(t){return a("p",{staticClass:"do_p"},[a("a-button",{on:{click:function(a){return e.edit(t)}}},[e._v("编辑")]),e._v(" "),a("a-button",{on:{click:function(a){return e.del(t)}}},[e._v("删除")])],1)}}])})],1)]),a("a-tab-pane",{key:"2",attrs:{tab:"缺勤情况","force-render":""}},[e._v(" Content of Tab Pane 2 ")])],1)],1)},i=[],n=(a("b0c0"),a("1bab"));function o(){return Object(n["a"])({url:"/http/getStatus",method:"GET"})}function l(e){var t=e.name,a=e.type,s=e.Sclass,i=e.pType,o=e.project,l=e.time;return Object(n["a"])({url:"/http/addStatus",method:"POST",data:{name:t,type:a,Ptype:i,Sclass:s,project:o,time:l}})}function r(e){var t=e.id;return Object(n["a"])({url:"/http/delStatus",method:"POST",data:{id:t}})}function c(e){var t=e.name,a=e.type,s=e.Sclass,i=e.pType,o=e.project,l=e.time,r=e._id;return Object(n["a"])({url:"/http/editStatus",method:"POST",data:{name:t,type:a,Ptype:i,Sclass:s,project:o,time:l,_id:r}})}function m(e){var t=e.name,a=e.type,s=e.Sclass,i=e.pType,o=e.project,l=e.time;return Object(n["a"])({url:"/http/fliterStatus",method:"POST",data:{name:t,type:a,Ptype:i,Sclass:s,project:o,time:l}})}var p=[{title:"学生姓名",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"专业",dataIndex:"type"},{title:"班级",dataIndex:"Sclass"},{title:"奖惩类型",dataIndex:"Ptype",width:120},{title:"项目",dataIndex:"project"},{title:"记录时间",dataIndex:"time"},{title:"操作",scopedSlots:{customRender:"tags"},width:180}],u={data:function(){return{data:[],pagination:{pageSize:10},columns_status:p,loading:!0,visible:!1,visibleE:!1,visibleF:!1,newName:"",newType:"",newClass:"",newPType:"",newProject:"",newTime:"",eName:"",eType:"",eClass:"",ePType:"",eProject:"",eTime:"",e_id:"",fName:"",fType:"",fClass:"",fPType:"",fProject:"",fTime:""}},activated:function(){this.updateData()},methods:{updateData:function(){var e=this;this.loading=!0,o().then((function(t){console.log(t),e.data=t.data,e.loading=!1}))},addData:function(){var e=this,t=this.$message.loading("正在添加...",0);l({name:this.newName,type:this.newType,Sclass:this.newClass,pType:this.newPType,project:this.newProject,time:this.newTime}).then((function(a){0!=a.data.success?(setTimeout(t,0),e.$message.success("添加成功"),e.updateData()):(setTimeout(t,0),e.$message.error("添加失败"))})).catch((function(a){setTimeout(t,0),e.$message.error(a),console.log(a),e.$message.error("添加失败，网络连接异常")})),this.visible=!1,this.clear()},editData:function(){var e=this,t=this.$message.loading("正在提交修改...",0);c({name:this.eName,type:this.eType,Sclass:this.eClass,pType:this.ePType,project:this.eProject,time:this.eTime,_id:this.e_id}).then((function(a){console.log(a),0!=a.data.success?(setTimeout(t,0),e.$message.success("修改成功"),e.updateData()):(setTimeout(t,0),e.$message.error("修改失败"))})).catch((function(a){setTimeout(t,0),e.$message.error(a),e.$message.error("网络连接异常")})),this.visibleE=!1},clear:function(){this.newName="",this.newType="",this.newClass="",this.newPType="",this.newProject="",this.newTime=""},del:function(e){var t=this;this.$confirm({title:"确定要删除这个学生吗？",content:"该操作将不可恢复，请谨慎操作",onOk:function(){var a=t.$message.loading("正在删除...",0);r({id:e._id}).then((function(e){setTimeout(a,0),1==e.data.deleted?t.$message.success("删除成功"):t.$message.error("删除失败"),t.updateData()})).catch((function(e){setTimeout(a,0),t.$message.error(e),t.$message.error("连接异常"),t.updateData()}))},onCancel:function(){}})},filterData:function(){var e=this;this.loading=!0,m({name:this.fName,type:this.fType,Sclass:this.fClass,pType:this.fPType,project:this.fProject,time:this.fTime}).then((function(t){console.log(t),e.data=t.data.data,e.loading=!1})).catch((function(t){e.$message.error(t),e.$message.error("网络连接异常"),e.loading=!1})),this.visibleF=!1},edit:function(e){this.eName=e.name,this.eType=e.type,this.eClass=e.Sclass,this.ePType=e.Ptype,this.eProject=e.project,this.eTime=e.time,this.e_id=e._id,this.showDrawerE()},showDrawer:function(){this.visible=!0},onClose:function(){this.visible=!1},showDrawerE:function(){this.visibleE=!0},onCloseE:function(){this.visibleE=!1},showDrawerF:function(){this.visibleF=!0},onCloseF:function(){this.visibleF=!1}}},d=u,h=(a("fb0e"),a("2877")),f=Object(h["a"])(d,s,i,!1,null,null,null);t["default"]=f.exports},fb0e:function(e,t,a){"use strict";a("6d8b")}}]);
//# sourceMappingURL=chunk-b0a1fdc2.bfc7dd77.js.map