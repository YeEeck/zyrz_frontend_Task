(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eade22b6"],{5703:function(e,t,a){"use strict";a("e756")},ba28:function(e,t,a){"use strict";a("c922")},c2be:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exam_outer"},[a("a-drawer",{staticClass:"user_drawer",attrs:{title:"创建新考试",width:360,visible:e.visible,"body-style":{paddingBottom:"80px"}},on:{close:e.onClose}},[a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试名称"},model:{value:e.newTitle,callback:function(t){e.newTitle=t},expression:"newTitle"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试类型"},model:{value:e.newTip,callback:function(t){e.newTip=t},expression:"newTip"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试地点"},model:{value:e.newArea,callback:function(t){e.newArea=t},expression:"newArea"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试时间"},model:{value:e.newTime,callback:function(t){e.newTime=t},expression:"newTime"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"监考老师"},model:{value:e.newTeacher,callback:function(t){e.newTeacher=t},expression:"newTeacher"}}),a("a-button",{attrs:{type:"primary"},on:{click:e.addData}},[e._v("新建")])],1),a("a-drawer",{staticClass:"user_drawer",attrs:{title:"编辑考试",width:360,visible:e.visibleE,"body-style":{paddingBottom:"80px"}},on:{close:e.onCloseE}},[a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试名称"},model:{value:e.eTitle,callback:function(t){e.eTitle=t},expression:"eTitle"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试类型"},model:{value:e.eTip,callback:function(t){e.eTip=t},expression:"eTip"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试地点"},model:{value:e.eArea,callback:function(t){e.eArea=t},expression:"eArea"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试时间"},model:{value:e.eTime,callback:function(t){e.eTime=t},expression:"eTime"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"监考老师"},model:{value:e.eTeacher,callback:function(t){e.eTeacher=t},expression:"eTeacher"}}),a("a-button",{attrs:{type:"primary"},on:{click:e.editData}},[e._v("提交")])],1),a("a-drawer",{staticClass:"user_drawer",attrs:{title:"记录新成绩",width:360,visible:e.visible2,"body-style":{paddingBottom:"80px"}},on:{close:e.onClose2}},[a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"学生姓名"},model:{value:e.name2,callback:function(t){e.name2=t},expression:"name2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"专业"},model:{value:e.type2,callback:function(t){e.type2=t},expression:"type2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"班级"},model:{value:e.Sclass2,callback:function(t){e.Sclass2=t},expression:"Sclass2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"身份证号"},model:{value:e.idNo2,callback:function(t){e.idNo2=t},expression:"idNo2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试名"},model:{value:e.exam2,callback:function(t){e.exam2=t},expression:"exam2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试成绩"},model:{value:e.score2,callback:function(t){e.score2=t},expression:"score2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"登分时间"},model:{value:e.time2,callback:function(t){e.time2=t},expression:"time2"}}),a("a-button",{attrs:{type:"primary"},on:{click:e.addData2}},[e._v("新建")])],1),a("a-drawer",{staticClass:"user_drawer",attrs:{title:"记录新成绩",width:360,visible:e.visible3,"body-style":{paddingBottom:"80px"}},on:{close:e.onClose3}},[a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"学生姓名"},model:{value:e.name2,callback:function(t){e.name2=t},expression:"name2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"专业"},model:{value:e.type2,callback:function(t){e.type2=t},expression:"type2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"班级"},model:{value:e.Sclass2,callback:function(t){e.Sclass2=t},expression:"Sclass2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"身份证号"},model:{value:e.idNo2,callback:function(t){e.idNo2=t},expression:"idNo2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试名"},model:{value:e.exam2,callback:function(t){e.exam2=t},expression:"exam2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"考试成绩"},model:{value:e.score2,callback:function(t){e.score2=t},expression:"score2"}}),a("a-input",{staticStyle:{"margin-bottom":"1rem"},attrs:{placeholder:"登分时间"},model:{value:e.time2,callback:function(t){e.time2=t},expression:"time2"}}),a("a-button",{attrs:{type:"primary"},on:{click:e.addData3}},[e._v("新建")])],1),a("div",{staticClass:"exam_top_bar"},[a("h1",{staticStyle:{display:"inline"}},[e._v("考务管理")]),a("div",{staticClass:"exam_topbar_button_out"},[a("a-button",{staticClass:"add_button",attrs:{type:"primary"},on:{click:e.showDrawer}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" "+e._s(e.addText)+" ")],1)],1)]),a("a-tabs",{staticClass:"exam_tab",attrs:{"default-active-key":"1",size:"large","active-key":e.tab_key},on:{change:e.tabChange}},[a("a-tab-pane",{key:"1",attrs:{tab:"考试管理"}},[a("div",{staticClass:"exam_table_out"},[a("div",{staticClass:"items_list"},[a("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{active:"",paragraph:{rows:5}}}),e._l(e.list,(function(t,i){return a("exam-item",{directives:[{name:"show",rawName:"v-show",value:e.fLoading,expression:"fLoading"}],key:i,attrs:{title:t.title,tip:t.tip,area:t.area,time:t.time,teacher:t.teacher,id:t._id},on:{refreshData:e.edit,upData:e.updateData}})}))],2)])]),a("a-tab-pane",{key:"2",attrs:{tab:"成绩管理","force-render":""}},[a("div",{staticClass:"exam_table_out2"},[a("a-table",{staticClass:"table1",attrs:{columns:e.columns_status,"data-source":e.data_score,pagination:e.pagination,loading:e.loading2,bordered:""},scopedSlots:e._u([{key:"tags",fn:function(t){return a("p",{staticClass:"do_p"},[a("a-button",{on:{click:function(a){return e.del2(t)}}},[e._v("删除")])],1)}}])})],1)]),a("a-tab-pane",{key:"3",attrs:{tab:"补考/重修管理","force-render":""}},[a("div",{staticClass:"exam_table_out2"},[a("a-table",{staticClass:"table1",attrs:{columns:e.columns_status,"data-source":e.data_score2,pagination:e.pagination,loading:e.loading3,bordered:""},scopedSlots:e._u([{key:"tags",fn:function(t){return a("p",{staticClass:"do_p"},[a("a-button",{on:{click:function(a){return e.del3(t)}}},[e._v("删除")])],1)}}])})],1)])],1)],1)},s=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exam_item_container"},[a("span",{staticClass:"item_title"},[e._v(e._s(e.title))]),a("a-tag",{staticClass:"exam_tip",attrs:{color:"blue"}},[e._v(e._s(e.tip))]),a("span",{staticClass:"exam_sub"},[e._v("考试地点:"),a("span",[e._v(e._s(e.area))])]),a("span",{staticClass:"exam_sub"},[e._v("考试时间:"),a("span",[e._v(e._s(e.time))])]),a("span",{staticClass:"exam_sub"},[e._v("监考老师:"),a("span",[e._v(e._s(e.teacher))])]),a("div",{staticClass:"exam_bottom_bar"},[a("a-button",{staticClass:"bottom_bar_button",attrs:{type:"primary"},on:{click:e.edit}},[e._v("编辑")]),a("a-button",{attrs:{type:"primary"},on:{click:e.del}},[e._v("删除")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"id"},{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"text"},domProps:{value:e.id},on:{input:function(t){t.target.composing||(e.id=t.target.value)}}})],1)},o=[],r=(a("b0c0"),a("1bab"));function c(){return Object(r["a"])({url:"/http/getExam",method:"GET"})}function l(e){var t=e.newTitle,a=e.newTip,i=e.newArea,s=e.newTime,n=e.newTeacher;return Object(r["a"])({url:"/http/addExam",method:"POST",data:{title:t,tip:a,area:i,time:s,teacher:n}})}function m(e){var t=e.id;return Object(r["a"])({url:"/http/delExam",method:"POST",data:{id:t}})}function d(e){var t=e.title,a=e.tip,i=e.area,s=e.time,n=e.teacher,o=e._id;return Object(r["a"])({url:"/http/editExam",method:"POST",data:{title:t,tip:a,area:i,time:s,teacher:n,_id:o}})}function u(){return Object(r["a"])({url:"/http/score",method:"POST",data:{mtype:"1"}})}function p(e){var t=e.name,a=e.type,i=e.Sclass,s=e.idNo,n=e.exam,o=e.score,c=e.time;return Object(r["a"])({url:"/http/score",method:"POST",data:{mtype:"2",name:t,type:a,Sclass:i,idNo:s,exam:n,score:o,time:c}})}function h(e){var t=e.id;return Object(r["a"])({url:"/http/score",method:"POST",data:{mtype:"3",id:t}})}function b(){return Object(r["a"])({url:"/http/pascore",method:"POST",data:{mtype:"1"}})}function g(e){var t=e.name,a=e.type,i=e.Sclass,s=e.idNo,n=e.exam,o=e.score,c=e.time;return Object(r["a"])({url:"/http/pascore",method:"POST",data:{mtype:"2",name:t,type:a,Sclass:i,idNo:s,exam:n,score:o,time:c}})}function f(e){var t=e.id;return Object(r["a"])({url:"/http/pascore",method:"POST",data:{mtype:"3",id:t}})}var v={name:"exam-item",props:{title:String,tip:String,area:String,time:String,teacher:String,id:String},data:function(){return{etitle:this.title,etip:this.tip,earea:this.area,etime:this.time,eteacher:this.teacher,Gid:this.id}},methods:{del:function(){var e=this;this.$confirm({title:"确定要删除该考试吗？",content:"该操作将不可恢复，请谨慎操作",onOk:function(){var t=e.$message.loading("正在删除...",0);m({id:e.Gid}).then((function(a){setTimeout(t,0),1==a.data.deleted?e.$message.success("删除成功"):e.$message.error("删除失败"),e.$emit("upData")})).catch((function(a){setTimeout(t,0),e.$message.error(a),e.$message.error("连接异常"),e.$parent.updateData()}))},onCancel:function(){}})},edit:function(){this.$emit("refreshData",{title:this.etitle,tip:this.etip,area:this.earea,time:this.etime,teacher:this.eteacher,id:this.Gid})}}},y=v,T=(a("5703"),a("2877")),_=Object(T["a"])(y,n,o,!1,null,null,null),x=_.exports,w=[{title:"学生姓名",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"专业",dataIndex:"type"},{title:"班级",dataIndex:"Sclass"},{title:"身份证号",dataIndex:"idNo"},{title:"考试",dataIndex:"exam"},{title:"补考成绩",dataIndex:"score"},{title:"记录时间",dataIndex:"time"},{title:"操作",scopedSlots:{customRender:"tags"},width:90}],S={components:{examItem:x},data:function(){return{pagination:{pageSize:10},addText:"New Exam",columns_status:w,loading:!0,list:[],data_score:[],data_score2:[],visible:!1,visibleE:!1,tab_key:"1",flush:!0,newTitle:"",newTip:"",newArea:"",newTime:"",newTeacher:"",eTitle:"",eTip:"",eArea:"",eTime:"",eTeacher:"",e_id:"",loading2:!0,visible2:!1,name2:"",type2:"",Sclass2:"",idNo2:"",exam2:"",score2:"",time2:"",loading3:!0,visible3:!1}},activated:function(){this.updateData(),this.updateData2(),this.updateData3()},computed:{fLoading:function(){return!this.loading}},watch:{tab_key:function(e){this.addText=1==e?"New Exam":2==e?"New Score":"New Record"}},methods:{tabChange:function(e){this.tab_key=e},updateData:function(){var e=this;this.loading=!0,c().then((function(t){e.list=t.data,e.loading=!1})).catch((function(t){console.log(t),e.$message.error("网络连接异常")}))},edit:function(e){this.eTitle=e.title,this.eTip=e.tip,this.eArea=e.area,this.eTime=e.time,this.eTeacher=e.teacher,this.e_id=e.id,this.showDrawerE()},editData:function(){var e=this,t=this.$message.loading("正在提交修改...",0);d({title:this.eTitle,tip:this.eTip,area:this.eArea,time:this.eTime,teacher:this.eTeacher,_id:this.e_id}).then((function(a){console.log(a),0!=a.data.success?(setTimeout(t,0),e.$message.success("修改成功"),e.$router.go(0)):(setTimeout(t,0),e.$message.error("修改失败"))})).catch((function(a){setTimeout(t,0),e.$message.error(a),e.$message.error("网络连接异常")})),this.visibleE=!1},showDrawer:function(){1==this.tab_key?this.visible=!0:2==this.tab_key?this.visible2=!0:this.visible3=!0},onClose:function(){this.visible=!1},showDrawerE:function(){this.visibleE=!0},onCloseE:function(){this.visibleE=!1},onClose2:function(){this.visible2=!1},onClose3:function(){this.visible3=!1},addData:function(){var e=this,t=this.$message.loading("正在添加...",0);l({newTitle:this.newTitle,newTip:this.newTip,newArea:this.newArea,newTime:this.newTime,newTeacher:this.newTeacher}).then((function(a){0!=a.data.success?(setTimeout(t,0),e.$message.success("添加成功"),e.updateData()):(setTimeout(t,0),e.$message.error("添加失败"))})).catch((function(a){setTimeout(t,0),e.$message.error(a),console.log(a),e.$message.error("添加失败，网络连接异常")})),this.visible=!1,this.clear()},clear:function(){this.newTitle="",this.newTip="",this.newArea="",this.newTime="",this.newTeacher=""},updateData2:function(){var e=this;this.loading2=!0,u().then((function(t){e.data_score=t.data,e.loading2=!1})).catch((function(t){console.log(t),e.$message.error("网络连接异常")}))},addData2:function(){var e=this,t=this.$message.loading("正在添加...",0);p({name:this.name2,type:this.type2,Sclass:this.Sclass2,idNo:this.idNo2,exam:this.exam2,score:this.score2,time:this.time2}).then((function(a){0!=a.data.success?(setTimeout(t,0),e.$message.success("添加成功"),e.updateData2()):(setTimeout(t,0),e.$message.error("添加失败"))})).catch((function(a){setTimeout(t,0),e.$message.error(a),console.log(a),e.$message.error("添加失败，网络连接异常")})),this.visible2=!1,this.clear2()},clear2:function(){this.name2="",this.type2="",this.Sclass2="",this.idNo2="",this.exam2="",this.score2="",this.time2=""},del2:function(e){var t=this;this.$confirm({title:"确定要删除这个学生吗？",content:"该操作将不可恢复，请谨慎操作",onOk:function(){var a=t.$message.loading("正在删除...",0);h({id:e._id}).then((function(e){setTimeout(a,0),1==e.data.deleted?t.$message.success("删除成功"):t.$message.error("删除失败"),t.updateData2()})).catch((function(e){setTimeout(a,0),t.$message.error(e),t.$message.error("连接异常"),t.updateData2()}))},onCancel:function(){}})},updateData3:function(){var e=this;this.loading3=!0,b().then((function(t){e.data_score2=t.data,e.loading3=!1})).catch((function(t){console.log(t),e.$message.error("网络连接异常")}))},addData3:function(){var e=this,t=this.$message.loading("正在添加...",0);g({name:this.name2,type:this.type2,Sclass:this.Sclass2,idNo:this.idNo2,exam:this.exam2,score:this.score2,time:this.time2}).then((function(a){0!=a.data.success?(setTimeout(t,0),e.$message.success("添加成功"),e.updateData3()):(setTimeout(t,0),e.$message.error("添加失败"))})).catch((function(a){setTimeout(t,0),e.$message.error(a),console.log(a),e.$message.error("添加失败，网络连接异常")})),this.visible3=!1,this.clear2()},del3:function(e){var t=this;this.$confirm({title:"确定要删除这个学生吗？",content:"该操作将不可恢复，请谨慎操作",onOk:function(){var a=t.$message.loading("正在删除...",0);f({id:e._id}).then((function(e){setTimeout(a,0),1==e.data.deleted?t.$message.success("删除成功"):t.$message.error("删除失败"),t.updateData3()})).catch((function(e){setTimeout(a,0),t.$message.error(e),t.$message.error("连接异常"),t.updateData3()}))},onCancel:function(){}})}}},k=S,$=(a("ba28"),Object(T["a"])(k,i,s,!1,null,null,null));t["default"]=$.exports},c922:function(e,t,a){},e756:function(e,t,a){}}]);
//# sourceMappingURL=chunk-eade22b6.bbf109af.js.map